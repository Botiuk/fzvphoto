<%= form_with(model: post) do |form| %>
    <% if post.errors.any? %>
        <div style="color: red">
        <h2><%= t 'forms.messages.errors', count: post.errors.count %></h2>

        <ul>
            <% post.errors.each do |error| %>
            <li><%= error.full_message %></li>
            <% end %>
        </ul>
        </div>
    <% end %>

    <div class = "form">
        <div class="mb-3">
          <%= form.label :title, t('.title'), style: "display: block" %>
          <%= form.text_field :title,  placeholder: t('.placeholder.title'), autofocus: true, class: "form-control" %>
        </div>

        <div class="mb-3">
          <%= form.label :postdate, t('.postdate'), style: "display: block" %>
          <%= form.date_field :postdate, :value => ( form.object.postdate || Time.now.to_date ) %>
        </div>

        <div class="mb-3">
          <%= form.label :location_id, t('.location'), style: "display: block" %>
          <%= select(:post, :location_id, options_for_select(@locations, :selected => form.object.location_id), :prompt => t('.prompt.location')) %>
        </div>

        <div class="field mb-3">
          <%= form.label :content, t('.content'), style: "display: block" %>
          <%= form.rich_text_area :content %>
        </div>

        <div class="mt-2">
          <%= form.button nil, class: "btn btn-success" do %>
            <i class="bi bi-check-lg"></i> <%= t('button.submit') %>
          <% end %>
        </div>

    </div>

<% end %>